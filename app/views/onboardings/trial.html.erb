<%= content_for :previous_path, goals_onboarding_path %>

<%= content_for :header_nav do %>
  <%= render "onboardings/onboarding_nav", user: @user %>
<% end %>

<%= content_for :cancel_action do %>
  <%= render "onboardings/logout" %>
<% end %>

<%= content_for :footer do %>
  <%= render "layouts/shared/footer" %>
<% end %>

<div class="grow flex flex-col gap-12 items-center justify-center">
  <div class="max-w-sm mx-auto flex flex-col items-center">
    <%= image_tag "logo-color.png", class: "w-16 mb-6" %>

    <p class="text-xl lg:text-3xl text-primary font-display font-medium">
      <%= t(".headline") %>
    </p>

    <h2 class="text-xl lg:text-3xl font-display text-secondary font-medium mb-2">
      <%= t(".no_card_required") %>
    </h2>

    <p class="text-sm text-secondary text-center mb-8">
      <%= t(".trial_description") %>
    </p>

    <div class="w-full">
      <% if Current.family.can_start_trial? %>
        <%= render DS::Button.new(
        text: t(".cta_start_trial"),
        href: subscription_path,
        full_width: true,
        data: { turbo: false }
      ) %>
      <% elsif Current.family.trialing? %>
        <%= render DS::Link.new(
          text: t(".cta_continue_trial"),
          href: root_path,
          full_width: true,
        ) %>
      <% else %>
        <%= render DS::Link.new(
          text: t(".cta_upgrade"),
          href: upgrade_subscription_path,
          full_width: true,
        ) %>
      <% end %>
    </div>
  </div>

  <div class="space-y-8">
    <h2 class="text-center text-lg lg:text-2xl font-medium text-primary"><%= t(".how_it_works_title") %></h2>

    <div class="flex gap-3">
      <div class="rounded-xl p-1 bg-gray-400/20 theme-dark:bg-gray-500/20 flex flex-col justify-between items-center text-secondary">
        <%= render DS::FilledIcon.new(icon: "unlock-keyhole", variant: :inverse) %>
        <%= render DS::FilledIcon.new(icon: "bell", variant: :inverse) %>
        <%= render DS::FilledIcon.new(icon: "credit-card", variant: :inverse) %>
      </div>

      <div class="space-y-12">
        <div class="space-y-1.5 text-sm">
          <p class="text-primary font-medium"><%= t(".today_title") %></p>
          <p class="text-secondary"><%= t(".today_description") %></p>
        </div>

        <div class="space-y-1.5 text-sm">
          <p class="text-primary font-medium"><%= t(".day_13_title", date: 13.days.from_now.strftime("%B %d")) %></p>
          <p class="text-secondary"><%= t(".day_13_description") %></p>
        </div>

        <div class="space-y-1.5 text-sm">
          <p class="text-primary font-medium"><%= t(".day_14_title", date: 14.days.from_now.strftime("%B %d")) %></p>
          <p class="text-secondary"><%= t(".day_14_description") %></p>
        </div>
      </div>
    </div>
  </div>

  <div class="space-y-8 max-w-2xl mx-auto">
    <h2 class="text-center text-lg lg:text-2xl font-medium text-primary"><%= t(".included_title") %></h2>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-x-12 gap-y-6 text-secondary">
      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "landmark", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.institutions") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "layers", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.unlimited_accounts") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "chart-line", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.performance") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "credit-card", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.transactions") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render "chats/ai_avatar" %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.ai_access") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "keyboard", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.manual_tracking") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "globe-2", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.currencies") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "ship", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.early_access") %></p>
      </div>

      <div class="flex flex-col gap-4 items-center">
        <%= render DS::FilledIcon.new(icon: "messages-square", variant: :surface) %>
        <p class="text-sm text-primary text-center"><%= t(".included_items.priority_support") %></p>
      </div>
    </div>
  </div>
</div>
